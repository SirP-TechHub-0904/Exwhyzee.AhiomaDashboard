@page
@model Exwhyzee.AhiomaDashboard.Web.Areas.Manager.Pages.TransactionQueue.DetailsModel
@{
}
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">

                <h3 class="card-title">
                    Details Transfer Queue
                </h3>
                @TempData["success"]
                @TempData["error"]
            </div>
            <div class="card-body">

                <h6>Date: @Model.Que.Date</h6>
                <h6>Id: @Model.Que.Id</h6>
                <h6>Response: @Model.Que.response</h6>
                <h6>
                    Name:  @Model.Que.fullname
                </h6>
                <h6>
                    IDN: @Model.Que.IDNUmber
                </h6>
                <h6>
                    TID: @Model.Que.TransactionId
                </h6>
                <h6>
                    Bank: @Model.Que.account_bank
                </h6>
                <h6>
                    Acc:  @Model.Que.account_number
                </h6>

                <h6>@Model.Que.narration</h6>
                <h6>@Model.Que.currency</h6>
                <h6>@Model.Que.reference</h6>
                <h6>@Model.Que.callback_url</h6>
                <h6>@Model.Que.debit_currency</h6>
                <h6> @Html.DisplayFor(model => Model.Que.QueueStatus)</h6>


                @await Component.InvokeAsync("UserLast15Transactions", new { uid = Model.Que.IDNUmber })

                <h6>Bank</h6>
                <h6>Bank Name: @Model.Profile.BankName</h6>
                <h6>Account Name: @Model.Profile.AccountName</h6>
                <h6>Account Number: @Model.Profile.AccountNumber</h6>

                <h6>ID</h6>
                <h6>Passport</h6>
                <a href="@Model.Profile.ProfileUrl">
                    <img src="@Model.Profile.ProfileUrl" style="max-height:100px;" />
                </a>
                <h6>ID Front</h6>
                <a href="@Model.Profile.IDCardFront">
                    <img src="@Model.Profile.IDCardFront" style="max-height:100px;" />
                </a>
                <h6>ID Back</h6>
                <a href="@Model.Profile.IDCardBack">
                    <img src="@Model.Profile.IDCardBack" style="max-height:100px;" />
                </a>

                <div class="clearfix"></div>
                <h6 class="btn btn-danger">
                    Amt:  @Model.Que.amount
                </h6>


                @if (Model.Que.QueueStatus == Exwhyzee.Enums.QueueStatus.Pending)
                {

                    <form asp-page-handler="Cancel" method="post">
                        <input type="hidden" asp-for="PTID" value="@Model.Que.Id" />
                        <button type="submit" class="btn btn-danger">Cancel</button>
                    </form>
                    <br /><br />
                    <form asp-page-handler="Approve" method="post">
                        <input type="hidden" asp-for="PTID" value="@Model.Que.Id" />
                        <button type="submit" class="btn btn-success">Confirm</button>
                    </form>
                }
            </div>
        </div>
    </div> <!-- end col -->
</div>