@page
@model Exwhyzee.AhiomaDashboard.Web.Areas.Admin.Pages.Products.CreateModel

@{
    ViewData["Title"] = "Create";
}


<div class="row">


    <div class="col-lg-12">
        <div class="card">
            <div class="card-header">

                <h3 class="card-title">
                    New Product


                </h3>
                @if (TempData["error1"] != null)
                {
                    <div class="alert alert-danger alert-dismissible">
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                        <strong>@TempData["error1"]</strong>
                    </div>
                }
                @if (TempData["error"] != null)
                {
                    <div class="alert alert-danger alert-dismissible">
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                        <strong>@TempData["error"]</strong>
                    </div>
                }
                @if (TempData["success"] != null)
                {
                    <div class="alert alert-success alert-dismissible">
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                        <strong>@TempData["success"]</strong>
                    </div>
                }
                @if (TempData["success1"] != null)
                {
                    <div class="alert alert-success alert-dismissible">
                        <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
                        <strong>@TempData["success1"]</strong>
                    </div>
                }
            </div>
            <div class="card-body">


                <div class="row">
                    @*<div class="col-md-2">
                            <div class="nav flex-column nav-pills" id="v-pills-tab" role="tablist" aria-orientation="vertical">
                                <a class="nav-link active" id="v-Dashboard-tab" data-toggle="pill" href="#v-Dashboard" role="tab" aria-controls="v-Dashboard" aria-selected="false">General</a>
                                <a class="nav-link mb-2" id="v-Pricing-tab" data-toggle="pill" href="#v-Pricing" role="tab" aria-controls="v-Pricing" aria-selected="false">Pricing</a>
                                <a class="nav-link mb-2" id="v-Pictures-tab" data-toggle="pill" href="#v-Pictures" role="tab" aria-controls="v-Pictures" aria-selected="false">Pictures</a>
                                <a class="nav-link mb-2" id="v-MetaTags-tab" data-toggle="pill" href="#v-MetaTags" role="tab" aria-controls="v-MetaTags" aria-selected="false">SEO</a>


                            </div>
                        </div>*@
                    <div class="col-md-10">


                        <div class="tab-content text-muted mt-4 mt-md-0" id="v-pills-tabContent">
                            <div class="tab-pane fade active show" id="v-Dashboard" role="tabpanel" aria-labelledby="v-Dashboard-tab">

                                <div class="">
                                    <form method="post" enctype="multipart/form-data" onsubmit='disableButton()'>

                                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                                        <input hidden asp-for="Product.TenantId" value="@Model.TenantId" />
                                        <div class="form-group">
                                            <div class="checkbox">
                                                <label>
                                                    Publish
                                                </label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="Check it if you want this product to be visible in to all."></i>
                                                <input asp-for="Product.Published" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label asp-for="Product.Name" class="control-label">Product Name</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="The name of the product"></i>
                                            <input asp-for="Product.Name" class="form-control" required="required" />
                                            <span asp-validation-for="Product.Name" class="text-danger"></span>
                                        </div>
                                        <div class="form-group">
            <label asp-for="Product.ShortDescription" class="control-label">Short Description</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="he short description of the product. This is the text that displays in product lists i.e. category / manufacturer pages"></i>
            <textarea name="Product.ShortDescription" required="required" class="form-control"></textarea>                                            <span asp-validation-for="Product.ShortDescription" class="text-danger"></span>
        </div>
                                        <div class="form-group">
                                            <label asp-for="Product.FullDescription" class="control-label">Full Description (Not less than 30 words)</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="The flag of the product."></i>
                                            <textarea id="mytextarea" name="Product.FullDescription" required="required" class="form-control"></textarea>
                                            @*<input asp-for="Product.FullDescription" class="form-control" />*@
                                            <span asp-validation-for="Product.FullDescription" class="text-danger"></span>
                                        </div>
                                        <div class="form-group text-right">
                                            <span id="maxContentPost"></span>
                                        </div>
                                        @*<div class="form-group">
            <label asp-for="Product.Flag" class="control-label"></label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="More Infomation"></i>
            <input asp-for="Product.Flag" class="form-control" />
            <span asp-validation-for="Product.Flag" class="text-danger"></span>
        </div>
        <div class="form-group">
            <label asp-for="Product.AdminComment" class="control-label">Admin Comment</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="Admin comment. For internal use."></i>
            <input asp-for="Product.AdminComment" class="form-control" />
            <span asp-validation-for="Product.AdminComment" class="text-danger"></span>
        </div>*@
                                        @*<div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <div class="checkbox">
                        <label>
                            Show On Home Page
                        </label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="Check to display this product on your store's home page. Recommended for your most popular products."></i>
                        <input asp-for="Product.ShowOnHomePage" />
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <div class="checkbox">
                        <label>
                            Allow Customer Reviews
                        </label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="Check to allow customers to review this product."></i>
                        <input asp-for="Product.AllowCustomerReviews" />
                    </div>
                </div>
            </div>
        </div>*@



                                        @*<div class="form-group">
            <label asp-for="Product.ManufacturerPartNumber" class="control-label">Manufacturer Part Number/Serial Number</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="The manufacturer's part number for this product."></i>
            <input asp-for="Product.ManufacturerPartNumber" class="form-control" />
            <span asp-validation-for="Product.ManufacturerPartNumber" class="text-danger"></span>
        </div>*@

                                        @*<div class="form-group">
            <label asp-for="Product.ProductCode" class="control-label">Product Code / Bar Code</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="Product Code / Bar Code"></i>
            <input asp-for="Product.ProductCode" class="form-control" />
            <span asp-validation-for="Product.ProductCode" class="text-danger"></span>
        </div>*@
                                        <div class="form-group">
                                            <div class="checkbox">
                                                <label>
                                                    Add Color
                                                </label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="Check it if you want this product to be visible in to all."></i>
                                                <input asp-for="Product.UseColor" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label asp-for="Colors" class="control-label">Product Colors (eg: red,blue,yellow)</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="Product Color"></i>
                                            <input asp-for="Colors" class="form-control" placeholder="red,blue,yellow" />
                                            <span asp-validation-for="Colors" class="text-danger"></span>
                                        </div>
                                        <div class="form-group">
                                            <div class="checkbox">
                                                <label>
                                                    Add Size
                                                </label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="Check it if you want this product to be visible in to all."></i>
                                                <input asp-for="Product.UseSize" />
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <label asp-for="Sizes" class="control-label">Product Sizes (eg: long,short,1kg,2kg,50litters,midium)</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="Product Color"></i>
                                            <input asp-for="Sizes" class="form-control" placeholder="long,short,1kg,2kg,50litters,midium" />
                                            <span asp-validation-for="Sizes" class="text-danger"></span>
                                        </div>

                                        @*<div class="form-group" style="border:1px solid #808080;">
            <label class="control-label">Colors</label>
            <i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="More Infomation"></i>
            <input asp-for="Colors" multiple="multiple" readonly id="taginput" class="form-control" />
            <input multiple="multiple" hidden id="taginput1" />

            <hr />
            <select id="Color" class="form-control">
                <option value="red">red</option>
                <option value="yellow">yellow</option>
                <option value="green">green</option>
                <option value="brown">brown</option>
                <option value="black">black</option>
                <option value="blue">blue</option>
                <option value="Black">Black</option>
                <option value="Blue">Blue</option>
                <option value="Blue-violet">Blue-violet</option>
                <option value="Blush">Blush</option>
                <option value="Bronze">Bronze</option>
                <option value="Brown">Brown</option>
                <option value="Chocolate">Chocolate</option>
                <option value="Gold">Gold</option>
                <option value="Gray">Gray</option>
                <option value="Green">Green</option>
                <option value="Jungle green">Jungle green</option>
                <option value="Lavender">Lavender</option>
                <option value="Lemon">Lemon</option>
                <option value="Mauve">Mauve</option>
                <option value="Navy blue">Navy blue</option>
                <option value="Orange">Orange</option>
                <option value=" Pink"></option>
                <option value="Red">Red</option>
                <option value="Red-violet">Red-violet</option>
                <option value="Violet">Violet</option>
                <option value=" White">White</option>
                <option value="Yellow">Yellow</option>
            </select>

        </div>
        <div class="form-group" style="border:1px solid #808080;">
            <label class="control-label">Sizes</label>
            <i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="More Infomation"></i>
            <input asp-for="Sizes" multiple="multiple" id="taginputsize" class="form-control" />

            <hr />
            <select id="Size" class="form-control">
                <option value="Big">Big</option>
                <option value="Small">Small</option>
                <option value="Medium">Medium</option>

            </select>

        </div>*@

                                        @*<div class="form-group">
            <label asp-for="Product.Status" class="control-label"></label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="More Infomation"></i>
            @Html.DropDownListFor(model => model.Product.Status, new SelectList(Enum.GetValues(typeof(Exwhyzee.Enums.EntityStatus))), new { @class = "form-control" })
            <span asp-validation-for="Product.Status" class="text-danger"></span>
        </div>*@
                                        @*<div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label asp-for="Product.ReOrderLevel" class="control-label">ReOrder Level</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="More Infomation"></i>
                    <input asp-for="Product.ReOrderLevel" class="form-control" />
                    <span asp-validation-for="Product.ReOrderLevel" class="text-danger"></span>
                </div>
            </div>
            <div class="col-md-6">
                <div class="form-group">
                    <label asp-for="Product.SendNotification" class="control-label">Send Notification</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="More Infomation"></i>
                    @Html.DropDownListFor(model => model.Product.SendNotification, new SelectList(Enum.GetValues(typeof(Exwhyzee.Enums.SendNotification))), new { @class = "form-control" })
                    <span asp-validation-for="Product.SendNotification" class="text-danger"></span>
                </div>
            </div>
        </div>*@
                                        @*<div class="form-group">
            <label asp-for="Product.Price" class="control-label">Price (NG)</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="More Infomation"></i>
            <input asp-for="Product.Price" class="form-control" type="number" />
            <span asp-validation-for="Product.Price" class="text-danger"></span>
        </div>*@

                                    <div class="form-group">
                                        <label asp-for="Product.CategoryId" class="control-label">Category</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="More Infomation"></i>
                                        <select asp-for="Product.CategoryId" class="form-control" id="Category" required="required" asp-items="ViewBag.CategoryId">
                                            <option value="">Choose a category</option>
                                        </select>
                                        <span asp-validation-for="Product.CategoryId" class="text-danger"></span>

                                    </div>
                                        <div class="form-group">
                                            <label asp-for="Product.SubCategoryId" class="control-label">Sub Category</label>
                                            <select asp-for="Product.SubCategoryId" id="SubCategoryId" class="form-control"></select>
                                            <span asp-validation-for="Product.SubCategoryId" class="text-danger"></span>
                                        </div>

                                        <div class="form-group">
                                            <label asp-for="Product.ManufacturerId" class="control-label">Manufacturer</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="More Infomation"></i>
                                            <select asp-for="Product.ManufacturerId" class="form-control" asp-items="ViewBag.ManufacturerId"></select>
                                        </div>
                                        <div class="form-group">
                                            <label asp-for="Product.DisplayOrder" class="control-label">Display Order</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="More Infomation"></i>
                                            <input asp-for="Product.DisplayOrder" class="form-control" />
                                            <span asp-validation-for="Product.DisplayOrder" class="text-danger"></span>
                                        </div>
                                        <div class="form-group">
                                            <label asp-for="Product.MetaKeywords" class="control-label">Product Keywords (seperate with comma)</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="More Infomation"></i>
                                            <input asp-for="Product.MetaKeywords" class="form-control" />
                                            <span asp-validation-for="Product.MetaKeywords" class="text-danger"></span>
                                        </div>
                                        <div class="form-group">
                                            <label class="control-label">Quantity</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="More Infomation"></i>
                                            <input asp-for="IQuantity" class="form-control" />
                                            <span asp-validation-for="IQuantity" class="text-danger"></span>


                                        </div>
                                        <div class="form-group">
                                            <label class="control-label">Price</label><i class="fa fa-question-circle" style="margin-left:4px;" data-container="body" data-placement="top" data-toggle="tooltip" title="" data-original-title="More Infomation"></i>
                                            <input asp-for="IPrice" class="form-control" />
                                            <span asp-validation-for="IPrice" class="text-danger"></span>
                                        </div>
                                        <div class="item form-group">
                                            <label class="control-label" for="file" style="color:#ff6a00;">
                                                For better image, image should be in a square shape
                                            </label>
                                            <label class="control-label" for="file">
                                                Upload Images
                                            </label>
                                            <div class="">
                                                <input class="form-control" type="file" multiple="multiple" name="files" id="gallery-photo-add" />
                                                <div class="gallery"></div>
                                            </div>
                                        </div>

                                        <div class="form-group">
                                            <input type="submit" id='' value="Save and Continue" class="btn btn-primary" />
                                            <a asp-page="Index" class="btn btn-outline-primary waves-effect waves-light">Back</a>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <div class="tab-pane fade" id="v-Pricing" role="tabpanel" aria-labelledby="v-Pricing-tab">
                                <div class="alert alert-danger" role="alert">
                                    You need to save the product before you can add prices for this product page.
                                </div>

                            </div>
                            <div class="tab-pane fade" id="v-Pictures" role="tabpanel" aria-labelledby="v-Pictures-tab">
                                <div class="alert alert-danger" role="alert">
                                    You need to save the product before you can upload pictures for this product page.
                                </div>

                            </div>
                            <div class="tab-pane fade" id="v-MetaTags" role="tabpanel" aria-labelledby="v-MetaTags-tab">
                                <div class="alert alert-danger" role="alert">
                                    You need to save the product before you can add meta tags for this product page.
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- end card -->
    </div>



</div>


@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}

    <script type="text/javascript">
        $(function () {
            // multiple images prevuiew in browser
            var imagesPreview = function (input, placeToInsertImagePreview) {
                if (input.files) {
                    var regex = /^([a-zA-Z0-9\s_\\.\-:])+(.jpg|.jpeg|.gif|.png|.bmp)$/;
                    var filesAmount = input.files.length;
                    if (filesAmount <= 5) {
                        for (i = 0; i < filesAmount; i++) {
                            var reader = new FileReader();
                            reader.onload = function (event) {
                                $($.parseHTML('<img>')).attr('src', event.target.result).attr('width', 'auto').attr('height', '100px').attr('margin', '10px').attr('padding', '10px').appendTo(placeToInsertImagePreview);
                            }
                            reader.readAsDataURL(input.files[i]);
                        }
                    } else {
                        window.alert("You cant upload more than 5 images");
                    }
                }
            };
            $('#gallery-photo-add').on('change', function () {
                imagesPreview(this, 'div.gallery');
            });
        });

        $('.dropzone').html5imageupload();
    </script>
    <script type="text/jscript">
        $(function () {
            $('#Category').change(function () {


                $.getJSON('/Home/SubCategoryList/' + $('#Category').val(), function (data) {

                    var items = '<option>Choose Sub Category</option>';
                    $.each(jQuery.map(data, function (i, local) {
                        items += "<option value='" + i.value + "'>" + i.text + "</option>";

                    }));

                    $('#SubCategoryId').html(items);
                });
            });
        });


    </script>
    <script type="text/jscript">
        $(function () {
            $('#Color').change(function () {

                let elem = document.getElementById('taginput');
                elem.value = elem.value + " " + $('#Color').val();
                let elem1 = document.getElementById('taginput1');
                elem1.value = elem1.value + " " + $('#Color').val();


            });
        });


    </script>
    <script type="text/jscript">
        $(function () {
            $('#Size').change(function () {

                let elem = document.getElementById('taginputsize');
                elem.value = elem.value + " " + $('#Size').val();


            });
        });

    </script>
}
